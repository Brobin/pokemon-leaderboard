{% extends "base.html" %}

{% load staticfiles humanize leaderboard_tags %}

{% block title %}Pokemon Go Leaderboard{% endblock %}

{% block content %}
<h1>Pokemon Go Leaderboard</h1>

<div class="row">
  <div class="col-md-4 col-sm-6">
    <div class="well">
      <div class="text-center">
        <h5>Experience</h5>
        <h1>{{ stats.sum_xp | intword2 }}</h1>
        <p>{{ stats.avg_xp|floatformat:0 | intcomma }} Average</p>
      </div>
      <table class="table table-hover" style="text-align:none">
        <tbody>
          {% for trainer in xp_leaders %}
          <tr>
            <td><img src="{% static trainer.team_image %}" height="30"/> <a href="{{ trainer.url }}">&nbsp;{{ trainer.name }}</a></td>
            <td>{{ trainer.xp | intcomma }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <a href="{% url 'trainer-list' %}" class="text-center">Full Leaderboard...</a>
      <h3 class="text-center">Team Averages</h3>
      {% with charts.xp as stat %}{% include "leaderboard/_team_compare.html" %}{% endwith %}
    </div>
  </div>
  <div class="col-md-4 col-sm-6">
    <div class="well">
      <div class="text-center">
        <h5>Pokemon Caught</h5>
        <h1>{{ stats.sum_collector | intword2 }}</h1>
        <p>{{ stats.avg_collector|floatformat:0 | intcomma }} Average</p>
      </div>
      <table class="table table-hover" style="text-align:none">
        <tbody>
          {% for trainer in collector_leaders %}
          <tr>
            <td><img src="{% static trainer.team_image %}" height="30"/> <a href="{{ trainer.url }}">&nbsp;{{ trainer.name }}</a></td>
            <td>{{ trainer.collector | intcomma }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <a href="{% url 'trainer-list' %}?ordering=-collector" class="text-center">Full Leaderboard...</a>
      <h3 class="text-center">Team Averages</h3>
      {% with charts.collector as stat %}{% include "leaderboard/_team_compare.html" %}{% endwith %}
    </div>
  </div>
  <div class="col-md-4 col-sm-6">
    <div class="well">
      <div class="text-center">
        <h5>Eggs Hatched</h5>
        <h1>{{ stats.sum_breeder | intword2 }}</h1>
        <p>{{ stats.avg_breeder|floatformat:0 | intcomma }} Average</p>
      </div>
      <table class="table table-hover" style="text-align:none">
        <tbody>
          {% for trainer in breeder_leaders %}
          <tr>
            <td><img src="{% static trainer.team_image %}" height="30"/> <a href="{{ trainer.url }}">&nbsp;{{ trainer.name }}</a></td>
            <td>{{ trainer.breeder | intcomma }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <a href="{% url 'trainer-list' %}?ordering=-breeder" class="text-center">Full Leaderboard...</a>
      <h3 class="text-center">Team Averages</h3>
      {% with charts.collector as stat %}{% include "leaderboard/_team_compare.html" %}{% endwith %}
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  $(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
  });
</script>
{% endblock %}
